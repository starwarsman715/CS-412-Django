{% extends 'voter_analytics/base.html' %}

{% block content %}
<div class="container graphs-page">
    <h2>Voter Analytics Graphs</h2>
    
    <!-- Filter Form -->
    <form method="get" class="filter-form">
        {{ form.as_p }}
        <button type="submit">Apply Filters</button>
        <a href="{% url 'graphs' %}">Clear Filters</a>
    </form>

    <!-- Graphs Container -->
    <div class="graphs-container">
        <!-- Birth Year Distribution -->
        <div class="graph-section">
            <h3>Age Distribution of Voters</h3>
            <div class="graph">
                {{ birth_year_graph|safe }}
            </div>
        </div>

        <!-- Party Affiliation Distribution -->
        <div class="graph-section">
            <h3>Party Affiliation Distribution</h3>
            <div class="graph">
                {{ party_graph|safe }}
            </div>
        </div>

        <!-- Election Participation -->
        <div class="graph-section">
            <h3>Election Participation Trends</h3>
            <div class="graph">
                {{ election_graph|safe }}
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <div class="navigation">
        <a href="{% url 'voters' %}">Back to Voter List</a>
    </div>
</div>
{% endblock %}