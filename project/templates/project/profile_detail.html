{% extends 'project/base.html' %}
{% block title %}{{ profile.username }}'s Profile{% endblock %}  <!-- Changed from user_profile -->
{% block content %}

<div class="container mt-4">
    <h2>{{ profile.username }}'s Profile</h2>  <!-- Changed from user_profile -->

    <p><strong>Email:</strong> {{ profile.email }}</p>  <!-- Changed from user_profile -->
    <p><strong>Birth Date:</strong> {{ profile.birth_date }}</p>  <!-- Changed from user_profile -->
    <p><strong>Bio:</strong> {{ profile.bio }}</p>  <!-- Changed from user_profile -->

    <h3>Preferred Genres</h3>
    <ul>
        {% for profile_genre in preferred_genres %}  <!-- Changed from user_genre -->
            <li>{{ profile_genre.genre.name }}</li>
        {% empty %}
            <li>No preferred genres.</li>
        {% endfor %}
    </ul>

    <h3>Favorite Songs</h3>
    <ul>
        {% for profile_song in favorite_songs %}  <!-- Changed from user_song -->
            <li>
                <a href="{% url 'project:song_detail' pk=profile_song.song.id %}">
                    {{ profile_song.song.title }} by {{ profile_song.song.artist }}
                </a>
            </li>
        {% empty %}
            <li>No favorite songs.</li>
        {% endfor %}
    </ul>

    <a href="{% url 'project:update_profile' pk=profile.pk %}" class="btn btn-warning">Update Profile</a>  <!-- Changed URLs -->
    <a href="{% url 'project:delete_profile' pk=profile.pk %}" class="btn btn-danger">Delete Profile</a>
</div>

{% endblock %}